{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport { Avatar, Button } from \"@material-ui/core\";\nimport \"../styles/post.css\";\nimport { useRouter } from \"next/router\";\nimport Link from \"next/link\";\nimport { useDispatch } from \"react-redux\";\nimport { getPostDetail, deletePost, addComment } from \"../store/actions/postAction\";\nimport { Favorite, FavoriteBorder, ChatBubbleOutline, Share, BookmarkBorder } from \"@material-ui/icons\";\n\nfunction Post(props) {\n  var dispatch = useDispatch();\n\n  var _useState = useState(\"\"),\n      comment = _useState[0],\n      setComment = _useState[1];\n\n  var router = useRouter();\n\n  var _useState2 = useState(false),\n      like = _useState2[0],\n      setLike = _useState2[1];\n\n  var _props$post = props.post,\n      id = _props$post.id,\n      username = _props$post.username,\n      imageUrl = _props$post.imageUrl,\n      caption = _props$post.caption,\n      comments = _props$post.comments;\n\n  var editpost = function editpost() {\n    dispatch(getPostDetail(id));\n  };\n\n  var deletepost = function deletepost() {\n    dispatch(deletePost(id));\n  };\n\n  var postComment = function postComment(e) {\n    e.preventDefault(); // console.log(comment);\n\n    dispatch(addComment(id, comment));\n    setComment(\"\");\n  };\n\n  return __jsx(\"div\", {\n    className: \"post\"\n  }, __jsx(\"div\", {\n    className: \"post__header\"\n  }, __jsx(\"div\", {\n    className: \"post__avatar\"\n  }, __jsx(Avatar, {\n    className: \"post__avatar\",\n    alt: \"Username\",\n    src: \"https://avatars3.githubusercontent.com/u/36666349?s=460&u=e35fa2c71fb20140f10b57ede3db8b51f61cda0b&v=4\"\n  }), __jsx(\"h3\", null, username)), __jsx(\"div\", null, __jsx(Link, {\n    as: \"/editpost/\".concat(id),\n    href: \"/editpost/[id]\"\n  }, __jsx(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: editpost\n  }, \"Edit\")), __jsx(Button, {\n    variant: \"contained\",\n    color: \"secondary\",\n    style: {\n      marginLeft: \"5px\"\n    },\n    onClick: deletepost\n  }, \"Delete\"))), __jsx(\"img\", {\n    className: \"post__image\",\n    src: imageUrl\n  }), __jsx(\"div\", {\n    className: \"post__icon\"\n  }, __jsx(\"div\", {\n    className: \"post__iconLeft\"\n  }, like ? __jsx(Favorite, {\n    style: {\n      fontSize: 30\n    },\n    onClick: function onClick() {\n      return setLike(!like);\n    }\n  }) : __jsx(FavoriteBorder, {\n    style: {\n      fontSize: 30\n    },\n    onClick: function onClick() {\n      return setLike(!like);\n    }\n  }), __jsx(ChatBubbleOutline, {\n    style: {\n      fontSize: 30,\n      marginLeft: 10\n    }\n  }), __jsx(Share, {\n    style: {\n      fontSize: 30,\n      marginLeft: 10\n    }\n  })), __jsx(\"div\", {\n    className: \"post__iconRight\"\n  }, __jsx(BookmarkBorder, {\n    style: {\n      fontSize: 30\n    }\n  }))), __jsx(\"h4\", {\n    className: \"post__text\"\n  }, __jsx(\"p\", null, \"309,191 likes\"), __jsx(\"strong\", null, username, \": \"), \" #\", caption), __jsx(\"div\", {\n    className: \"post__comments\"\n  }, comments && comments.map(function (comment, i) {\n    return __jsx(\"p\", {\n      key: i\n    }, __jsx(\"b\", null, comment.user), \" \", comment.comment);\n  })), __jsx(\"form\", {\n    className: \"post__commentBox\"\n  }, __jsx(\"input\", {\n    className: \"post__input\",\n    type: \"text\",\n    placeholder: \"Add a comment...\",\n    value: comment,\n    onChange: function onChange(e) {\n      return setComment(e.target.value);\n    }\n  }), __jsx(\"button\", {\n    className: \"post__button\",\n    disabled: !comment,\n    type: \"submit\",\n    onClick: function onClick(e) {\n      return postComment(e);\n    }\n  }, \"Post\")));\n}\n\nexport default Post;","map":null,"metadata":{},"sourceType":"module"}