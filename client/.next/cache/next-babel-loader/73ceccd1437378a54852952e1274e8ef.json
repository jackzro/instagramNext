{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport { Avatar, Button } from \"@material-ui/core\";\nimport \"../styles/post.css\";\nimport { useRouter } from \"next/router\";\nimport Link from \"next/link\";\nimport { useDispatch } from \"react-redux\";\nimport { getPostDetail, deletePost, addComment } from \"../store/actions/postAction\";\nimport { Favorite, FavoriteBorder, ChatBubbleOutline, Share, BookmarkBorder } from \"@material-ui/icons\";\n\nfunction Post(props) {\n  const dispatch = useDispatch();\n  const {\n    0: comment,\n    1: setComment\n  } = useState(\"\");\n  const router = useRouter();\n  const {\n    0: like,\n    1: setLike\n  } = useState(false);\n  const {\n    id,\n    username,\n    imageUrl,\n    caption,\n    comments\n  } = props.post;\n\n  const editpost = () => {\n    dispatch(getPostDetail(id));\n  };\n\n  const deletepost = () => {\n    dispatch(deletePost(id));\n  };\n\n  const postComment = e => {\n    e.preventDefault(); // console.log(comment);\n\n    dispatch(addComment(id, comment));\n    setComment(\"\");\n  };\n\n  return __jsx(\"div\", {\n    className: \"post\"\n  }, __jsx(\"div\", {\n    className: \"post__header\"\n  }, __jsx(\"div\", {\n    className: \"post__avatar\"\n  }, __jsx(Avatar, {\n    className: \"post__avatar\",\n    alt: \"Username\",\n    src: \"https://avatars3.githubusercontent.com/u/36666349?s=460&u=e35fa2c71fb20140f10b57ede3db8b51f61cda0b&v=4\"\n  }), __jsx(\"h3\", null, username)), __jsx(\"div\", null, __jsx(Link, {\n    as: `/editpost/${id}`,\n    href: \"/editpost/[id]\"\n  }, __jsx(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: editpost\n  }, \"Edit\")), __jsx(Button, {\n    variant: \"contained\",\n    color: \"secondary\",\n    style: {\n      marginLeft: \"5px\"\n    },\n    onClick: deletepost\n  }, \"Delete\"))), __jsx(\"img\", {\n    className: \"post__image\",\n    src: imageUrl\n  }), __jsx(\"div\", {\n    className: \"post__icon\"\n  }, __jsx(\"div\", {\n    className: \"post__iconLeft\"\n  }, like ? __jsx(Favorite, {\n    style: {\n      fontSize: 30\n    },\n    onClick: () => setLike(!like)\n  }) : __jsx(FavoriteBorder, {\n    style: {\n      fontSize: 30\n    },\n    onClick: () => setLike(!like)\n  }), __jsx(ChatBubbleOutline, {\n    style: {\n      fontSize: 30,\n      marginLeft: 10\n    }\n  }), __jsx(Share, {\n    style: {\n      fontSize: 30,\n      marginLeft: 10\n    }\n  })), __jsx(\"div\", {\n    className: \"post__iconRight\"\n  }, __jsx(BookmarkBorder, {\n    style: {\n      fontSize: 30\n    }\n  }))), __jsx(\"h4\", {\n    className: \"post__text\"\n  }, __jsx(\"p\", null, \"309,191 likes\"), __jsx(\"strong\", null, username, \": \"), \" #\", caption), __jsx(\"div\", {\n    className: \"post__comments\"\n  }, comments && comments.map((comment, i) => __jsx(\"p\", {\n    key: i\n  }, __jsx(\"b\", null, comment.user), \" \", comment.comment))), __jsx(\"form\", {\n    className: \"post__commentBox\"\n  }, __jsx(\"input\", {\n    className: \"post__input\",\n    type: \"text\",\n    placeholder: \"Add a comment...\",\n    value: comment,\n    onChange: e => setComment(e.target.value)\n  }), __jsx(\"button\", {\n    className: \"post__button\",\n    disabled: !comment,\n    type: \"submit\",\n    onClick: e => postComment(e)\n  }, \"Post\")));\n}\n\nexport default Post;","map":null,"metadata":{},"sourceType":"module"}