{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { TextField, Button, InputAdornment } from \"@material-ui/core\";\nimport { useRouter } from \"next/router\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Person, Image, Loyalty, AccountCircle } from \"@material-ui/icons\";\nimport { editPostDetail, getPostDetail } from \"../../store/actions/postAction\";\nimport \"../../styles/editpost.css\";\nimport Navbar from \"../../components/Navbar\";\n\nfunction Id() {\n  var _useState = useState(\"\"),\n      id = _useState[0],\n      setID = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      image = _useState3[0],\n      setImage = _useState3[1];\n\n  var _useState4 = useState(\"\"),\n      caption = _useState4[0],\n      setCaption = _useState4[1];\n\n  var router = useRouter();\n  var dispatch = useDispatch();\n  var post = useSelector(function (state) {\n    return state.postReducer.post;\n  });\n  useEffect(function () {\n    if (post[0]) {\n      setID(post[0].id);\n      setUsername(post[0].username);\n      setImage(post[0].imageUrl);\n      setCaption(post[0].caption);\n    }\n  }, [post]);\n  useEffect(function () {\n    dispatch(getPostDetail(router.query.id));\n    console.log(router.query.id);\n  }, []);\n\n  var editpost = function editpost() {\n    dispatch(editPostDetail(id, username, image, caption));\n    router.push(\"/\");\n  };\n\n  return __jsx(\"div\", null, __jsx(Navbar, null), __jsx(\"div\", {\n    className: \"main__editpost\"\n  }, __jsx(\"div\", {\n    className: \"editpost\"\n  }, __jsx(\"div\", {\n    className: \"title\",\n    style: {\n      background: \"white\"\n    }\n  }, __jsx(\"h1\", null, \"Edit Post \")), __jsx(\"form\", {\n    className: \"form\",\n    noValidate: true,\n    autoComplete: \"off\"\n  }, __jsx(\"div\", {\n    className: \"icons\"\n  }, __jsx(TextField, {\n    className: \"form__input\",\n    id: \"input-with-icon-textfield\",\n    label: \"TextField\",\n    onChange: function onChange(e) {\n      return setUsername(e.target.value);\n    },\n    value: username,\n    InputProps: {\n      startAdornment: __jsx(InputAdornment, {\n        position: \"start\"\n      }, __jsx(AccountCircle, null))\n    }\n  })), __jsx(\"div\", {\n    className: \"icons\"\n  }, __jsx(TextField, {\n    className: \"form__input\",\n    id: \"input-with-icon-textfield\",\n    label: \"TextField\",\n    onChange: function onChange(e) {\n      return setImage(e.target.value);\n    },\n    value: image,\n    InputProps: {\n      startAdornment: __jsx(InputAdornment, {\n        position: \"start\"\n      }, __jsx(Image, null))\n    }\n  })), __jsx(\"div\", {\n    className: \"icons\"\n  }, __jsx(TextField, {\n    className: \"form__input\",\n    id: \"input-with-icon-textfield\",\n    label: \"TextField\",\n    onChange: function onChange(e) {\n      return setCaption(e.target.value);\n    },\n    value: caption,\n    InputProps: {\n      startAdornment: __jsx(InputAdornment, {\n        position: \"start\"\n      }, __jsx(Loyalty, null))\n    }\n  })), __jsx(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    className: \"button__add\",\n    onClick: editpost\n  }, \"Submit\"), __jsx(Link, {\n    href: \"/\"\n  }, __jsx(Button, {\n    variant: \"contained\",\n    color: \"secondary\",\n    className: \"button__add\"\n  }, \"Back\"))))));\n}\n\nId.getInitialProps = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n  return _regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          return _context.abrupt(\"return\", {});\n\n        case 1:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n}));\nexport default Id;","map":null,"metadata":{},"sourceType":"module"}